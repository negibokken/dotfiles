#!/bin/bash

today=$(date +"%Y-%m-%d")
tomorrow=$(gdate -d "tomorrow" '+%Y-%m-%d')
yesterday=$(gdate -d "yesterday" '+%Y-%m-%d')
file="$SECOND_BRAIN"'/periodic-notes/daily-notes/'$(date +"%Y-%m-%d").md

cd "$SECOND_BRAIN" || exit

new_note() {
  touch "$file"

  cat <<EOF >"$file"
# $today

[[$yesterday]] - [[$tomorrow]]


## intention

What do I want to achieve today and tomorrow?

## Tracking

-

EOF

}

if [ ! -f "$file" ]; then
  echo "File does not exist, creating new daily note"
  new_note
fi

nvim '+ normal Gzzo' "$file" -c :NoNeckPain
